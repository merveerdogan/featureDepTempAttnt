<!--
Merve Erdogan - 11.25.25
Feature Dependent Temporal Attention - Tapping
----------------------------------------------
Experiment details: 
- 1 pair of features: Color and Size
- 4 conditions: Color attended (Size distractor) vs. Size attended (Color distractor)
- Task: tapping the attended feature (color or size) as fast as possible
-->

<!DOCTYPE html>
<html lang="en">

<head>
    <title>Yale Psychology Experiment</title>
    <script type="text/javascript" src="lib/vendors/jspsych-7.1.2/jspsych.js"></script>
    <script type="text/javascript" src="lib/vendors/jspsych-7.1.2/plugin-html-keyboard-response.js"></script>
    <script type="text/javascript" src="lib/vendors/jspsych-7.1.2/plugin-image-keyboard-response.js"></script>
    <script type="text/javascript" src="lib/vendors/jspsych-7.1.2/plugin-html-button-response.js"></script>
    <script type="text/javascript" src="lib/vendors/jspsych-7.1.2/plugin-preload.js"></script>
    <script type="text/javascript" src="lib/vendors/jspsych-7.1.2/plugin-audio-keyboard-response.js"></script>
    <script type="text/javascript" src="lib/vendors/jspsych-7.1.2/plugin-fullscreen.js"></script>
    <script type="text/javascript" src="lib/vendors/jspsych-7.1.2/plugin-browser-check.js"></script>
    <script type="text/javascript" src="lib/vendors/jspsych-7.1.2/plugin-survey-html-form.js"></script>
    <script type="text/javascript" src="lib/jspsych-7-pavlovia-2022.1.1.js"></script>
    <link rel="stylesheet" type="text/css" href="lib/vendors/jspsych-7.1.2/jspsych.css" />

    <script src="helpers/params.js"></script>
    <script src="helpers/functions.js"></script>
    <script src="helpers/instructionPractice.js"></script>
    <script src="helpers/rhytmicFeatureChangeTask.js"></script>
    <script src="helpers/instructions.js"></script>
</head>

<body>
    <dialog id="lostFullscreen" style="text-align:center;background-color:lightgrey">
        <b>Oops!</b> It looks like you exited fullscreen mode.
        <br />
        <button id="returnFullscreen" onclick="on_check_fullscreen_click()">Back to fullscreen</button>
    </dialog>
    <div id="experiment_content" class="full_height"></div>
</body>

<script>
    /*
    ==========================
    EXPERIMENT START
    ==========================
    */
    var experiment_start_time = new Date();
    fullscreenActive = false;

    var jsPsych = initJsPsych({
        on_interaction_data_update: check_fullscreen,
        display_element: 'experiment_content',
    });

    var timeline = [];
    var pavlovia_init = {
        type: jsPsychPavlovia,
        command: 'init'
    };
    timeline.push(pavlovia_init);


    /*
    ==========================
    INTRO & INSTRUCTIONS        
    ==========================
    */


    // if (runInstr == true) {
    //     timeline.push(colorVisionCheck, ishiharaPlate1, ishiharaPlate2);
    // }


    timeline.push(...instructions);



    /*
    ==========================
    CLOSING SECTION
    ==========================
    */
    // timeline.push(cursor_on, finishing, debreif_qs, exit_fullscreen, closing);

    // var pavlovia_finish = {
    //     type: jsPsychPavlovia,
    //     command: 'finish'
    // };
    // timeline.push(pavlovia_finish);

    jsPsych.run(timeline);
</script>
</body>

</html>